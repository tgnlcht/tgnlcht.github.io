document.addEventListener("DOMContentLoaded",function(){gsap.registerPlugin(ScrollTrigger),setTimeout(startAnimation,500),addNavbarAnimation(),loadBurgerMenu();const e=document.querySelectorAll(".fade-in");e.forEach(e=>{gsap.to(e,{scrollTrigger:{trigger:e,start:"top 95%",toggleClass:"in-view",once:!0}})}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&window.scrollTo({top:t.offsetTop-70,behavior:"smooth"})})})});function startAnimation(){const t=document.getElementById("spotlight"),n=document.querySelectorAll(".letter"),o=document.getElementById("blackCurtain"),i=document.getElementById("letters"),e=gsap.timeline();function a(){let t=[],e;return n.forEach(e=>{const n=e.getBoundingClientRect();t.push(n.left+n.width/2)}),window.innerWidth<768?e=window.innerWidth*.08:e=window.innerWidth*.06,{letterPositions:t,spotlightOffset:e}}const s=a();gsap.set(t,{left:s.startPositionX,top:"50%",xPercent:-50,yPercent:-50}),e.to(t,{opacity:1,duration:.5,ease:"power1.inOut"}),e.to(n[0],{opacity:1,scale:1,y:0,duration:.2,ease:"elastic.out(1, 0.7)"});for(let o=1;o<n.length;o++){const i=s.letterPositions[o]+s.spotlightOffset;e.to(t,{left:i,duration:.2,ease:"power2.out"}),e.to(n[o],{opacity:1,scale:1,y:0,duration:.2,ease:"power2.out"},"-=0.2")}e.to({},{duration:.2}),e.to(t,{scale:.5,duration:.5,ease:"power2.inOut"},"-=0.1"),e.to(t,{left:-window.innerWidth*.2,duration:1,ease:"power4.in"}),e.to(o,{xPercent:-100,duration:.6,ease:"power3.in"},"-=0.5"),e.to([t,i],{opacity:0,duration:.1},"-=0.1"),e.to(".hero-text .title",{opacity:1,x:0,duration:.5,ease:"power1.out"},"-=0.1"),e.to(".hero-text .subtitle",{opacity:1,x:0,duration:.5,ease:"power1.out"},"-=0.4"),e.to(".buttons",{opacity:1,y:0,duration:.4,ease:"back.out(1.7)"},"-=0.3"),e.to(".bouncing-arrow",{opacity:1,duration:1.2,ease:"sine.inOut"},"-=0.3"),gsap.to(".bouncing-arrow",{y:-15,repeat:-1,yoyo:!0,duration:1.2,ease:"sine.inOut"})}function addNavbarAnimation(){const e=document.querySelector(".navbar");gsap.to(".navbar",{opacity:1,y:0,duration:1,ease:"Power2.out",scrollTrigger:{trigger:"#concept",start:"top 90%",toggleActions:"play none none reverse"}})}function loadBurgerMenu(){$(".navbar-burger").click(function(){$(".navbar-burger").toggleClass("is-active"),$(".navbar-menu").toggleClass("is-active")})}